# ============================================================
# ‚öôÔ∏è CONFIGURA√á√ïES GERAIS DA APLICA√á√ÉO
# ============================================================
quarkus.http.port=8081
quarkus.banner.enabled=true

# ============================================================
# üóÑÔ∏è BANCO DE DADOS (MySQL + Panache)
# ============================================================
quarkus.datasource.db-kind=mysql
quarkus.datasource.username=desafio_user
quarkus.datasource.password=desafio_pass
quarkus.datasource.jdbc.url=jdbc:mysql://localhost:3306/desafio_db_mysql

# Evita falhas se o banco demorar a responder
quarkus.datasource.jdbc.acquisition-timeout=30
quarkus.datasource.jdbc.initial-size=1
quarkus.datasource.jdbc.max-size=10

# Gera√ß√£o do schema (para desenvolvimento)
quarkus.hibernate-orm.database.generation=drop-and-create
# quarkus.hibernate-orm.scripts.generation=drop-and-create  # (para vers√µes futuras)

# Mostra as queries SQL no console (√∫til em dev)
quarkus.hibernate-orm.log.sql=true
quarkus.hibernate-orm.format-sql=true

# ============================================================
# üîê SEGURAN√áA (JWT + KEYCLOAK)
# ============================================================
mp.jwt.verify.publickey.location=http://localhost:8080/realms/desafio-app/protocol/openid-connect/certs
mp.jwt.verify.issuer=http://localhost:8080/realms/desafio-app

# Informa ao Quarkus onde est√£o as roles no token do Keycloak
smallrye.jwt.path.groups=realm_access/roles

# ============================================================
# üåê CORS (para frontend Angular em localhost:4200)
# ============================================================
quarkus.http.cors.enabled=true
quarkus.http.cors.origins=http://localhost:4200
quarkus.http.cors.methods=GET,PUT,POST,DELETE,OPTIONS
quarkus.http.cors.headers=accept,authorization,content-type,x-requested-with

# ============================================================
# üß© PERFIL DE DESENVOLVIMENTO
# ============================================================
quarkus.live-reload.enabled=true
quarkus.dev-ui.enabled=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
quarkus.log.category."org.hibernate.SQL".level=DEBUG